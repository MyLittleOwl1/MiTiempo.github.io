<!doctype html>
<html lang="es">
<!--Versi√≥n 1.4-->

<head>
  <meta charset="utf-8" />
  <title>Meteo AEMET M√≥vil</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="app">
    <header>
      <div class="app-title">
        <span>Meteo AEMET</span>
        <span class="badge">By Gaby</span>
      </div>
      <p class="subtitle">
        Datos oficiales de AEMET
      </p>
    </header>

    <!-- TIEMPO ACTUAL -->
    <section class="card" id="card-actual">
      <div class="card-header">
        <div class="card-title">
          <!-- T√≠tulo opcional -->
           <p>T¬™ actual</p>
        </div>
        <div style="display:flex; align-items:center; gap:8px;">
          <div class="status-text" id="status-actual">Esperando datos‚Ä¶</div>
        </div>
      </div>

      <div class="controls" id="controls-estacion" aria-label="Selector de provincia y estaci√≥n">
        <label class="control-label" for="provincia-select">
          Provincia
          <select id="provincia-select" class="mobile-select" aria-label="Provincia"></select>
        </label>
        <label class="control-label" for="estacion-select">
          Estaci√≥n
          <select id="estacion-select" class="mobile-select" aria-label="Estaci√≥n"></select>
        </label>
      </div>

      <div class="current-main">
        <!-- CORRECCI√ìN: Agrupamos Icono + Temperatura en un wrapper para alinearlos -->
        <div style="display:flex; align-items:center; gap:12px;">
          <!-- Nuevo contenedor para el icono principal -->
          <div id="icono-actual" style="display:flex; color:var(--color-accent);"></div>

          <div class="current-temp" id="temp-actual">
            --<span>¬∞C</span>
          </div>
        </div>

        <div class="current-extra">
          <span id="humedad-actual">Humedad: -- %</span>
          <span id="presion-actual">Presi√≥n: -- hPa</span>
          <span id="actualizado-actual">Actualizado: --</span>
        </div>
      </div>

      <div class="chips">
        <span class="chip" id="chip-estacion">ID estaci√≥n: ‚Äî</span>
        <span class="chip" id="chip-fecha">Sin fecha</span>
        <button id="btn-refresca" class="btn-refresh" title="Refrescar datos" aria-label="Refrescar datos"
            style="margin-left:6px;">‚Üª</button>
      </div>

      <p class="error hidden" id="error-actual"></p>
    </section>

    <!-- PREVISI√ìN 24 HORAS -->
    <section class="card" id="card-forecast">
      <div class="card-header">
        <div class="card-title">
          <span>Previsi√≥n 24 h</span>
          <span id="city-label">Nombre del Municipio</span>
        </div>
        <div class="status-text" id="status-forecast">Esperando datos‚Ä¶</div>
      </div>

      <div class="forecast-list" id="forecast-list"></div>

      <p class="error hidden" id="error-forecast"></p>

      <div class="toolbar">
        <span id="last-update">‚Äî</span>
        <select id="municipio-select" class="mobile-select" aria-label="Municipio" style="margin-left:8px;"></select>
        <button id="btn-consulta-municipio" class="btn-refresh" title="Consultar municipio">
          <span>üëç</span>
        </button>
        <button id="btn-refresh" class="btn-refresh">
          <span>‚Üª</span>
        </button>
      </div>
    </section>

    <!-- HIST√ìRICO PRESI√ìN 7 D√çAS -->
    <section class="card" id="card-presion">
      <div class="card-header">
        <div class="card-title">
          <span></span>
          <span class="pill" id="presion-label">Estaci√≥n ‚Äî</span>
          <span class="pill" id="presion-fecha">‚Äî</span>
        </div>
        <div class="status-text" id="status-presion">Esperando datos‚Ä¶</div>
      </div>

      <div style="overflow-x:auto; margin-top:4px;">
        <table style="width:100%; border-collapse:collapse; font-size:0.7rem;">
          <thead>
            <tr>
              <th colspan="4"
                style="text-align:center; padding:6px 2px; border-bottom:1px solid rgba(55,65,81,0.8); font-weight:700;font-size:1rem; color:var(--color-text);">
                Datos por horas
              </th>
            </tr>
            <tr style="color:#9ca3af;">
              <th style="text-align:left; padding:4px 2px; border-bottom:1px solid rgba(55,65,81,0.8);">Hora</th>
              <th style="text-align:right; padding:4px 2px; border-bottom:1px solid rgba(55,65,81,0.8);">Presi√≥n (hPa)
              </th>
              <th style="text-align:right; padding:4px 2px; border-bottom:1px solid rgba(55,65,81,0.8);">Temp (¬∞C)</th>
              <th style="text-align:right; padding:4px 2px; border-bottom:1px solid rgba(55,65,81,0.8);">Hum (%)</th>
            </tr>
          </thead>
          <tbody id="tabla-presion-cuerpo"></tbody>
        </table>
      </div>
      <p class="error hidden" id="error-presion"></p>
    </section>

    <footer>
      Fuente: AEMET OpenData. Esta aplicaci√≥n no es oficial.
    </footer>
  </div>
<script src="script.js"></script>
</body>

</html>